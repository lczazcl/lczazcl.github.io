<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  
  <title>数组 - My_Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="keywords" content=生活,博客,前端,游戏>
  
  
    <link rel="shortcut icon" type="image/x-icon" href="/lczazcl.github.io/favicon.ico?v=1.02">
  
  
    <link rel="alternate" href="/lczazcl.github.io/atom.xml " title="My_Blog" type="application/atom+xml">
  

  <link rel="stylesheet" href="/lczazcl.github.io/css/style.css">
</head>
  <body>
    <div class="container">
      <header class="header">
  <div class="blog-title">
    <a href="/lczazcl.github.io/" class="logo">My_Blog</a>
    <div class="subtitle"></div>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/lczazcl.github.io/" class="menu-item-link">Home</a>
        </li>
      
        <li class="menu-item">
          <a href="/lczazcl.github.io/archives" class="menu-item-link">Archives</a>
        </li>
      
        <li class="menu-item">
          <a href="/lczazcl.github.io/about" class="menu-item-link">About</a>
        </li>
      
    </ul>
  </nav>
</header>
<article class="post">
  <div class="post-title">
    <h1 class="article-title">数组</h1>
  </div>
   <div class="post-meta">
    <span class="post-time">2018-03-23</span>
  </div>
  <div class="post-content">
    <p>人类的理解：数组是按次序排列的一组值<br>JS：用Array构造出来的那个对象</p>
<h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><p><img src="http://ww1.sinaimg.cn/large/9b135823ly1fpmr511tuuj20wd0olti1.jpg" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//Array.prototype中有数组的共用方法，每新建一个数组，都会指向Array.prototype</span><br><span class="line">var a1 = [1,2,3]</span><br><span class="line">var a2 = [4,5,6]</span><br></pre></td></tr></table></figure></p>
<p><img src="http://ww1.sinaimg.cn/large/9b135823ly1fpmrexsr0wj20wf0mi11c.jpg" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]     //__proto__ -&gt; Array.prototype -&gt; Object.prototype</span><br><span class="line">var obj = &#123;         //__proto__ -&gt; Object.prototype</span><br><span class="line">    0:1,</span><br><span class="line">    1:2,</span><br><span class="line">    2:3,</span><br><span class="line">    length:3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>为什么a是数组，obj是一个对象？内存没有区别，区别在于原型是不一样的，a指向Array.prototype，数组之所以为数组是因为数组有数组的特点(push()、pop()方法)，对象直接指向了Object.prototype，所以没有这些方法。</p>
<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]</span><br><span class="line">a.xxx = &apos;xxx&apos;</span><br><span class="line">a.yyy = &apos;yyy&apos;</span><br><span class="line">for(var i=0;i&lt;a.length;i++)&#123;</span><br><span class="line">    console.log(a[i])       //故意不去访问非数字的下标</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for(var key in a)&#123;</span><br><span class="line">    console.log(a[key])     //没有筛选，遍历了所有的key</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="伪数组"><a href="#伪数组" class="headerlink" title="伪数组"></a>伪数组</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function f()&#123;</span><br><span class="line">    console.log(arguments)  //__proto指向了Object，没有Array.prototype这一环</span><br><span class="line">&#125;</span><br><span class="line">f(1,2,3)</span><br></pre></td></tr></table></figure>
<p>原型链中没有Array.prototype这一环就是伪数组。Arguments就是伪数组。</p>
<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><h4 id="用法："><a href="#用法：" class="headerlink" title="用法："></a>用法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;]</span><br><span class="line">a.forEach(function(x,y)&#123;    //value，key</span><br><span class="line">    console.log(&apos;value&apos;,x)</span><br><span class="line">    console.log(&apos;key&apos;,y)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>a.forEach在遍历谁<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;</span><br><span class="line">    0:&apos;a&apos;,</span><br><span class="line">    1:&apos;b&apos;,</span><br><span class="line">    length:2</span><br><span class="line">&#125;</span><br><span class="line">a.forEach = function(x)&#123;    //这里有一个隐含的参数，this</span><br><span class="line">    for(let i=0;i&lt;this.length;i++)&#123;</span><br><span class="line">        x(this[i],i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">a.forEach(function(value,key)&#123;</span><br><span class="line">    console.log(value,key)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>a.forEach(function(b,c,d){})<br>a.forEach接收一个函数，这个函数一定会接收3个参数，第一个参数为value，第二个参数为key，第三个参数为a自己本身。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var a = [&apos;fff&apos;,&apos;jjj&apos;,&apos;kkk&apos;]</span><br><span class="line">a.forEach(function(b,c,d)&#123;</span><br><span class="line">    console.log(b,c,d)</span><br><span class="line">&#125;)</span><br><span class="line">value   key      a自己</span><br><span class="line">fff     0 (3)    [&quot;fff&quot;, &quot;jjj&quot;, &quot;kkk&quot;]</span><br><span class="line">jjj     1 (3)    [&quot;fff&quot;, &quot;jjj&quot;, &quot;kkk&quot;]</span><br><span class="line">kkk     2 (3)    [&quot;fff&quot;, &quot;jjj&quot;, &quot;kkk&quot;]</span><br></pre></td></tr></table></figure></p>
<h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h3><p>用于对数组的元素进行排序。这种方法会改变原始数组。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var a = [5,2,4,1,3,6]</span><br><span class="line">a.sort(function(x,y)&#123;</span><br><span class="line">    return x-y  //1,2,3,4,5,6</span><br><span class="line">    return y-x  //6,5,4,3,2,1</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">var arr = [&apos;马云&apos;,&apos;马化腾&apos;,&apos;李彦宏&apos;]</span><br><span class="line">var hash = &#123;</span><br><span class="line">    &apos;马云&apos;:167.92,</span><br><span class="line">    &apos;马化腾&apos;:376,</span><br><span class="line">    &apos;李彦宏&apos;:228.62</span><br><span class="line">&#125;</span><br><span class="line">arr.sort(function(x,y)&#123;</span><br><span class="line">    return hash[x] - hash[y]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="join、concat、map、filter、reduce"><a href="#join、concat、map、filter、reduce" class="headerlink" title="join、concat、map、filter、reduce"></a>join、concat、map、filter、reduce</h3><h4 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h4><p>将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]</span><br><span class="line">a.join(&apos;,&apos;)     //&quot;1,2,3&quot;转换为一个字符串</span><br></pre></td></tr></table></figure></p>
<h4 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h4><p>将一个或多个字符串与原字符串连接合并，形成一个新的字符串并返回。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]</span><br><span class="line">var b = [4,5,6]</span><br><span class="line">a.concat(b)     //生成一个新的数组</span><br><span class="line"></span><br><span class="line">//也可以用来复制一个数组</span><br><span class="line">var a = [1,2,3]</span><br><span class="line">var b = a.concat([])</span><br><span class="line">console.log(b)  //生成一个新数组</span><br><span class="line">a === b         //false</span><br></pre></td></tr></table></figure></p>
<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>forEach方法没有返回值，map方法有返回值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]</span><br><span class="line">a.forEach(function(value,key)&#123;&#125;)    </span><br><span class="line"></span><br><span class="line">a.map(function(value,key)&#123;</span><br><span class="line">    return value*2</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">a.map(function(value,key)&#123;</span><br><span class="line">    return value + key</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">a.map(function(value,key)&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        v:value,</span><br><span class="line">        k:key</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a = [1,2,3,4,5,6,7,8,9,10]</span><br><span class="line">a.filter(function(value,key)&#123;</span><br><span class="line">    return value &gt;= 5</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">a.filter(function(value,key)&#123;</span><br><span class="line">    return value%2 === 0</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">a.filter(function(value,key)&#123;</span><br><span class="line">    return value%2 === 0</span><br><span class="line">&#125;).map(function(value,key)&#123;</span><br><span class="line">    return value*value</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]</span><br><span class="line">var sum = 0</span><br><span class="line">for(let i=0;i&lt;a.length;i++)&#123;</span><br><span class="line">    sum += a[i]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = [1,2,3]</span><br><span class="line">a.reduce(function(sum,n)&#123;   //sum为上一次的结果，n为当前这个数字</span><br><span class="line">    return sum + n</span><br><span class="line">&#125;,0)                        //0为计算初始值</span><br><span class="line"></span><br><span class="line">//reduce可以实现map的功能</span><br><span class="line">var a = [1,2,3]</span><br><span class="line">a.reduce(function(arr,n)&#123;</span><br><span class="line">    arr.push(n*2)</span><br><span class="line">&#125;,[])</span><br><span class="line"></span><br><span class="line">//reduce可以实现filter的功能</span><br><span class="line">var a = [1,2,3,4,5,6,7,8,9,10]</span><br><span class="line">a.reduce(function(arr,n)&#123;</span><br><span class="line">    if(n%2  === 0)&#123;</span><br><span class="line">        arr.push(n)</span><br><span class="line">    &#125;</span><br><span class="line">    return arr</span><br><span class="line">&#125;,[])</span><br></pre></td></tr></table></figure>
  </div>
  <div class="post-footer">
    

    <a href="#top" class="top">Back to Top</a>
  </div>
</article>
<footer>
  &copy; 2018
  <span class="author">
    LCZ
  </span>
</footer>
    </div>
  </body>
</html>